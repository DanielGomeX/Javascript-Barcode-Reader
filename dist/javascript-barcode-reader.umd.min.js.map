{"version":3,"file":"javascript-barcode-reader.umd.min.js.map","sources":["../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/typeof.js","../src/utiltities.js","../src/code-128/index.js","../src/2of5/index.js","../src/code-39/index.js","../src/code-93/index.js","../src/ean-13/index.js","../src/ean-8/index.js","../src/codabar/index.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","const isNode =\r\n  typeof process === 'object' &&\r\n  process.release &&\r\n  process.release.name === 'node'\r\n\r\n// check if string is url\r\nfunction isUrl(s) {\r\n  const regexp = /(ftp|http|https):\\/\\/(\\w+:{0,1}\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-/]))?/\r\n  return !s[0] === '#' || regexp.test(s)\r\n}\r\n\r\n/**\r\n * Returns median number from a number array (modified for only 3 rows)\r\n * @param {number[]} arr Array of numbers\r\n * @return {number} Median of the array\r\n */\r\n// function median(arr) {\r\n//   arr.sort((a, b) => {\r\n//     return a - b\r\n//   })\r\n\r\n//   return arr[1]\r\n// }\r\n\r\n/**\r\n * Creates image data from HTML image\r\n * @param {HTMLImageElement} image HTML Image element\r\n */\r\nfunction createImageData(image) {\r\n  const canvas = document.createElement('canvas')\r\n  const ctx = canvas.getContext('2d')\r\n  const width = image.naturalWidth\r\n  const height = image.naturalHeight\r\n\r\n  canvas.width = width\r\n  canvas.height = height\r\n  ctx.drawImage(image, 0, 0)\r\n\r\n  return ctx.getImageData(0, 0, width, height)\r\n}\r\n\r\n/**\r\n * Reads image source and returns imageData as only callback parameter\r\n * @param {*} source Image source\r\n * @param {Function} callback Callback to pass the imageData\r\n */\r\nasync function getImageDataFromSource(source) {\r\n  const isStringSource = typeof source === 'string'\r\n  const isURLSource = isStringSource ? isUrl(source) : false\r\n  const { tagName } = source\r\n\r\n  return new Promise((resolve, reject) => {\r\n    // String source\r\n    if (isStringSource) {\r\n      // Read file in Node.js\r\n      if (isNode) {\r\n        const Jimp = require('jimp')\r\n\r\n        Jimp.read(\r\n          isURLSource ? { url: source, headers: {} } : source,\r\n          (err, image) => {\r\n            if (err) {\r\n              reject(err)\r\n            } else {\r\n              const { data, width, height } = image.bitmap\r\n              resolve({\r\n                data: data.toJSON().data,\r\n                width,\r\n                height,\r\n              })\r\n            }\r\n          }\r\n        )\r\n      } else if (isURLSource) {\r\n        // Load Image from source\r\n        const img = new Image()\r\n        img.onerror = reject\r\n        img.onload = () => resolve(createImageData(img))\r\n        img.src = source\r\n      } else {\r\n        // Find Elment by ID\r\n        const imgElem = document.getElementById(source)\r\n        if (imgElem) {\r\n          resolve(createImageData(imgElem))\r\n        }\r\n\r\n        reject(new Error('Invalid image source specified!'))\r\n      }\r\n    } else if (tagName) {\r\n      // HTML Image element\r\n      if (tagName === 'IMG') {\r\n        resolve(createImageData(source))\r\n      }\r\n      // HTML Canvas element\r\n      else if (tagName === 'CANVAS') {\r\n        resolve(\r\n          source\r\n            .getContext('2d')\r\n            .getImageData(0, 0, source.naturalWidth, source.naturalHeight)\r\n        )\r\n      }\r\n\r\n      reject(new Error('Invalid image source specified!'))\r\n    }\r\n    // Pixel Data\r\n    else if (source.data && source.width && source.height) {\r\n      resolve(source)\r\n    } else {\r\n      reject(new Error('Invalid image source specified!'))\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * Greyscale, threshold and apply median noise removal to image data\r\n * @param {Object} imgData ImageData\r\n * @param {number[]} imgData.data Raw pixel data\r\n * @param {number} imgData.width Width fo image data\r\n * @param {number} imgData.height Height of image data\r\n * @param {Object} options Options defining type of barcode to detect\r\n * @param {Boolean=} options.useAdaptiveThreshold Use adaptive threshold (default: OTSU Threshold method)\r\n * @returns {{data: number[], width: number, height: number}} ImageData\r\n */\r\nfunction preProcessImageData(imgData, options) {\r\n  const { data, width, height, channels } = imgData\r\n  const { useAdaptiveThreshold } = options\r\n\r\n  // Adaptive Threshold\r\n  if (useAdaptiveThreshold) {\r\n    const integralImage = []\r\n\r\n    for (let j = 0; j < height; j += 1) {\r\n      integralImage.push(new Array(width).fill(0))\r\n    }\r\n\r\n    for (let i = 0; i < width; i += 1) {\r\n      let sum = 0\r\n\r\n      for (let j = 0; j < height; j += 1) {\r\n        let index = (j * width + i) * channels\r\n\r\n        // greyscale\r\n        let v = (data[index] + data[index + 1] + data[index + 2]) / 3\r\n        data[index] = v\r\n        data[index + 1] = v\r\n        data[index + 2] = v\r\n\r\n        sum += v\r\n\r\n        if (i === 0) {\r\n          integralImage[j][i] = sum\r\n        } else {\r\n          integralImage[j][i] = (integralImage[j][i - 1] || 0) + sum\r\n        }\r\n      }\r\n    }\r\n\r\n    console.log(data)\r\n    console.log(integralImage)\r\n\r\n    // skip edge rows\r\n    for (let i = 1; i < width - 1; i += 1) {\r\n      for (let j = 1; j < height - 1; j += 1) {\r\n        const iLeft = i - 1\r\n        const iRight = i + 1\r\n        const jTop = j - 1\r\n        const jBottom = j + 1\r\n        const count = (iRight - iLeft) * (jBottom - jTop)\r\n\r\n        const sum =\r\n          integralImage[iLeft][j] +\r\n          integralImage[iRight][j] +\r\n          integralImage[i][jTop] +\r\n          integralImage[i][jBottom]\r\n\r\n        console.log(count, sum)\r\n      }\r\n    }\r\n\r\n    return { data, width, height }\r\n  } else {\r\n    for (let i = 0; i < data.length; i += channels) {\r\n      let r = data[i]\r\n      let g = data[i + 1]\r\n      let b = data[i + 2]\r\n      let v = (r + g + b) / 3\r\n\r\n      v = v >= 127 ? 255 : 0\r\n\r\n      data[i] = v\r\n      data[i + 1] = v\r\n      data[i + 2] = v\r\n    }\r\n  }\r\n\r\n  return { data, width, height }\r\n}\r\n\r\n/**\r\n * Greyscale, threshold and apply median noise removal to image data\r\n * @param {{data: number[], width: number, height: number}} imgData\r\n * @returns {number[]}}\r\n */\r\nfunction getLines(obj) {\r\n  const { data, width, height } = obj\r\n  const channels = data.length / (width * height)\r\n\r\n  const padding = { left: true, right: true }\r\n  const bmp = []\r\n  const lines = []\r\n  let count = 1\r\n\r\n  for (let col = 0; col < width; col += 1) {\r\n    let matches = 0\r\n    let value\r\n\r\n    for (let row = 0; row < height; row += 1) {\r\n      value = data[(row * width + col) * channels]\r\n\r\n      if (value === 255) matches += 1\r\n    }\r\n\r\n    if (value === 0) {\r\n      if (col === 0) padding.left = false\r\n      if (col === width - 1) padding.right = false\r\n    }\r\n\r\n    bmp.push(matches > 1)\r\n  }\r\n\r\n  // matches width of barcode lines\r\n  let curr = bmp[0]\r\n\r\n  for (let col = 0; col < width; col += 1) {\r\n    if (bmp[col] === curr) {\r\n      count += 1\r\n\r\n      if (col === width - 1) {\r\n        lines.push(count)\r\n      }\r\n    } else {\r\n      lines.push(count)\r\n      count = 1\r\n      curr = bmp[col]\r\n    }\r\n  }\r\n\r\n  // remove empty whitespaces on side of barcode\r\n  if (padding.left) lines.shift()\r\n  if (padding.right) lines.pop()\r\n\r\n  return lines\r\n}\r\n\r\nmodule.exports = {\r\n  getImageDataFromSource,\r\n  getLines,\r\n  preProcessImageData,\r\n}\r\n","const WIDTH_TBL = [\r\n  '212222',\r\n  '222122',\r\n  '222221',\r\n  '121223',\r\n  '121322',\r\n  '131222',\r\n  '122213',\r\n  '122312',\r\n  '132212',\r\n  '221213',\r\n  '221312',\r\n  '231212',\r\n  '112232',\r\n  '122132',\r\n  '122231',\r\n  '113222',\r\n  '123122',\r\n  '123221',\r\n  '223211',\r\n  '221132',\r\n  '221231',\r\n  '213212',\r\n  '223112',\r\n  '312131',\r\n  '311222',\r\n  '321122',\r\n  '321221',\r\n  '312212',\r\n  '322112',\r\n  '322211',\r\n  '212123',\r\n  '212321',\r\n  '232121',\r\n  '111323',\r\n  '131123',\r\n  '131321',\r\n  '112313',\r\n  '132113',\r\n  '132311',\r\n  '211313',\r\n  '231113',\r\n  '231311',\r\n  '112133',\r\n  '112331',\r\n  '132131',\r\n  '113123',\r\n  '113321',\r\n  '133121',\r\n  '313121',\r\n  '211331',\r\n  '231131',\r\n  '213113',\r\n  '213311',\r\n  '213131',\r\n  '311123',\r\n  '311321',\r\n  '331121',\r\n  '312113',\r\n  '312311',\r\n  '332111',\r\n  '314111',\r\n  '221411',\r\n  '431111',\r\n  '111224',\r\n  '111422',\r\n  '121124',\r\n  '121421',\r\n  '141122',\r\n  '141221',\r\n  '112214',\r\n  '112412',\r\n  '122114',\r\n  '122411',\r\n  '142112',\r\n  '142211',\r\n  '241211',\r\n  '221114',\r\n  '413111',\r\n  '241112',\r\n  '134111',\r\n  '111242',\r\n  '121142',\r\n  '121241',\r\n  '114212',\r\n  '124112',\r\n  '124211',\r\n  '411212',\r\n  '421112',\r\n  '421211',\r\n  '212141',\r\n  '214121',\r\n  '412121',\r\n  '111143',\r\n  '111341',\r\n  '131141',\r\n  '114113',\r\n  '114311',\r\n  '411113',\r\n  '411311',\r\n  '113141',\r\n  '114131',\r\n  '311141',\r\n  '411131',\r\n  '211412',\r\n  '211214',\r\n  '211232',\r\n  '233111',\r\n  '211133',\r\n  '2331112',\r\n]\r\n\r\nconst TBL_A = [\r\n  ' ',\r\n  '!',\r\n  '\"',\r\n  '#',\r\n  '$',\r\n  '%',\r\n  '&',\r\n  \"'\",\r\n  '(',\r\n  ')',\r\n  '*',\r\n  '+',\r\n  ',',\r\n  '-',\r\n  '.',\r\n  '/',\r\n  '0',\r\n  '1',\r\n  '2',\r\n  '3',\r\n  '4',\r\n  '5',\r\n  '6',\r\n  '7',\r\n  '8',\r\n  '9',\r\n  ':',\r\n  ';',\r\n  '<',\r\n  '=',\r\n  '>',\r\n  '?',\r\n  '@',\r\n  'A',\r\n  'B',\r\n  'C',\r\n  'D',\r\n  'E',\r\n  'F',\r\n  'G',\r\n  'H',\r\n  'I',\r\n  'J',\r\n  'K',\r\n  'L',\r\n  'M',\r\n  'N',\r\n  'O',\r\n  'P',\r\n  'Q',\r\n  'R',\r\n  'S',\r\n  'T',\r\n  'U',\r\n  'V',\r\n  'W',\r\n  'X',\r\n  'Y',\r\n  'Z',\r\n  '[',\r\n  '\\\\',\r\n  ']',\r\n  '^',\r\n  '_',\r\n  'NUL',\r\n  'SOH',\r\n  'STX',\r\n  'ETX',\r\n  'EOT',\r\n  'ENQ',\r\n  'ACK',\r\n  'BEL',\r\n  'BS',\r\n  'HT',\r\n  'LF',\r\n  'VT',\r\n  'FF',\r\n  'CR',\r\n  'SO',\r\n  'SI',\r\n  'DLE',\r\n  'DC1',\r\n  'DC2',\r\n  'DC3',\r\n  'DC4',\r\n  'NAK',\r\n  'SYN',\r\n  'ETB',\r\n  'CAN',\r\n  'EM',\r\n  'SUB',\r\n  'ESC',\r\n  'FS',\r\n  'GS',\r\n  'RS',\r\n  'US',\r\n  'FNC 3',\r\n  'FNC 2',\r\n  'Shift B',\r\n  'Code C',\r\n  'Code B',\r\n  'FNC 4',\r\n  'FNC 1',\r\n]\r\n\r\nconst TBL_B = [\r\n  ' ',\r\n  '!',\r\n  '\"',\r\n  '#',\r\n  '$',\r\n  '%',\r\n  '&',\r\n  \"'\",\r\n  '(',\r\n  ')',\r\n  '*',\r\n  '+',\r\n  ',',\r\n  '-',\r\n  '.',\r\n  '/',\r\n  '0',\r\n  '1',\r\n  '2',\r\n  '3',\r\n  '4',\r\n  '5',\r\n  '6',\r\n  '7',\r\n  '8',\r\n  '9',\r\n  ':',\r\n  ';',\r\n  '<',\r\n  '=',\r\n  '>',\r\n  '?',\r\n  '@',\r\n  'A',\r\n  'B',\r\n  'C',\r\n  'D',\r\n  'E',\r\n  'F',\r\n  'G',\r\n  'H',\r\n  'I',\r\n  'J',\r\n  'K',\r\n  'L',\r\n  'M',\r\n  'N',\r\n  'O',\r\n  'P',\r\n  'Q',\r\n  'R',\r\n  'S',\r\n  'T',\r\n  'U',\r\n  'V',\r\n  'W',\r\n  'X',\r\n  'Y',\r\n  'Z',\r\n  '[',\r\n  '\\\\',\r\n  ']',\r\n  '^',\r\n  '_',\r\n  '`',\r\n  'a',\r\n  'b',\r\n  'c',\r\n  'd',\r\n  'e',\r\n  'f',\r\n  'g',\r\n  'h',\r\n  'i',\r\n  'j',\r\n  'k',\r\n  'l',\r\n  'm',\r\n  'n',\r\n  'o',\r\n  'p',\r\n  'q',\r\n  'r',\r\n  's',\r\n  't',\r\n  'u',\r\n  'v',\r\n  'w',\r\n  'x',\r\n  'y',\r\n  'z',\r\n  '{',\r\n  '|',\r\n  '}',\r\n  '~',\r\n  'DEL',\r\n  'FNC 3',\r\n  'FNC 2',\r\n  'Shift A',\r\n  'Code C',\r\n  'FNC 4',\r\n  'Code A',\r\n  'FNC 1',\r\n]\r\n\r\nconst TBL_C = [\r\n  '00',\r\n  '01',\r\n  '02',\r\n  '03',\r\n  '04',\r\n  '05',\r\n  '06',\r\n  '07',\r\n  '08',\r\n  '09',\r\n  '10',\r\n  '11',\r\n  '12',\r\n  '13',\r\n  '14',\r\n  '15',\r\n  '16',\r\n  '17',\r\n  '18',\r\n  '19',\r\n  '20',\r\n  '21',\r\n  '22',\r\n  '23',\r\n  '24',\r\n  '25',\r\n  '26',\r\n  '27',\r\n  '28',\r\n  '29',\r\n  '30',\r\n  '31',\r\n  '32',\r\n  '33',\r\n  '34',\r\n  '35',\r\n  '36',\r\n  '37',\r\n  '38',\r\n  '39',\r\n  '40',\r\n  '41',\r\n  '42',\r\n  '43',\r\n  '44',\r\n  '45',\r\n  '46',\r\n  '47',\r\n  '48',\r\n  '49',\r\n  '50',\r\n  '51',\r\n  '52',\r\n  '53',\r\n  '54',\r\n  '55',\r\n  '56',\r\n  '57',\r\n  '58',\r\n  '59',\r\n  '60',\r\n  '61',\r\n  '62',\r\n  '63',\r\n  '64',\r\n  '65',\r\n  '66',\r\n  '67',\r\n  '68',\r\n  '69',\r\n  '70',\r\n  '71',\r\n  '72',\r\n  '73',\r\n  '74',\r\n  '75',\r\n  '76',\r\n  '77',\r\n  '78',\r\n  '79',\r\n  '80',\r\n  '81',\r\n  '82',\r\n  '83',\r\n  '84',\r\n  '85',\r\n  '86',\r\n  '87',\r\n  '88',\r\n  '89',\r\n  '90',\r\n  '91',\r\n  '92',\r\n  '93',\r\n  '94',\r\n  '95',\r\n  '96',\r\n  '97',\r\n  '98',\r\n  '99',\r\n  'Code B',\r\n  'Code A',\r\n  'FNC 1',\r\n]\r\n\r\nconst computeGroup = lines => {\r\n  // sum of a group in code-128 must be 11\r\n  const factor = lines.reduce((pre, item) => pre + item, 0) / 11\r\n\r\n  return lines.map(item => Math.round(item / factor) || 1).join('')\r\n}\r\n\r\nmodule.exports = lines => {\r\n  let lookupTBL\r\n  // let sumOP\r\n  let letterKey\r\n  let letterCode\r\n  let letterCodePrev\r\n  let keyIndex\r\n  const code = []\r\n\r\n  // extract terminal bar\r\n  lines.pop()\r\n\r\n  const seq = lines.slice(0)\r\n\r\n  letterKey = computeGroup(seq.splice(0, 6))\r\n\r\n  switch (letterKey) {\r\n    case '211232':\r\n      lookupTBL = TBL_C\r\n      // sumOP = 105\r\n      break\r\n    case '211412':\r\n      lookupTBL = TBL_A\r\n      // sumOP = 103\r\n      break\r\n    case '211214':\r\n    default:\r\n      lookupTBL = TBL_B\r\n      // sumOP = 104\r\n      break\r\n  }\r\n\r\n  for (let i = 1; seq.length > 12; i += 1) {\r\n    letterKey = computeGroup(seq.splice(0, 6))\r\n    keyIndex = WIDTH_TBL.indexOf(letterKey)\r\n    // sumOP += i * keyIndex\r\n    letterCode = lookupTBL[keyIndex]\r\n\r\n    switch (letterCode) {\r\n      case 'Code A':\r\n        lookupTBL = TBL_A\r\n        break\r\n      case 'Code B':\r\n        lookupTBL = TBL_B\r\n        break\r\n      case 'Code C':\r\n        lookupTBL = TBL_C\r\n        break\r\n      case 'FNC 4':\r\n        break\r\n      default:\r\n        if (letterCode) {\r\n          if (letterCodePrev === 'FNC 4') {\r\n            code.push(letterCode.charCodeAt(0) + 128)\r\n          } else {\r\n            code.push(letterCode)\r\n          }\r\n\r\n          letterCodePrev = letterCode\r\n        } else {\r\n          code.push('?')\r\n        }\r\n        break\r\n    }\r\n  }\r\n\r\n  // letterKey = computeGroup(seq.splice(0, 6))\r\n  // if (sumOP % 103 !== WIDTH_TBL.indexOf(letterKey)) return null\r\n\r\n  return code.join('')\r\n}\r\n","const CHAR_SET = [\r\n  'nnwwn',\r\n  'wnnnw',\r\n  'nwnnw',\r\n  'wwnnn',\r\n  'nnwnw',\r\n  'wnwnn',\r\n  'nwwnn',\r\n  'nnnww',\r\n  'wnnwn',\r\n  'nwnwn',\r\n]\r\n\r\nmodule.exports = (lines, type = 'standard') => {\r\n  const code = []\r\n\r\n  const barThreshold = Math.ceil(\r\n    lines.reduce((pre, item) => (pre + item) / 2, 0)\r\n  )\r\n\r\n  if (type === 'interleaved') {\r\n    // extract start/ends pair\r\n    const startChar = lines\r\n      .splice(0, 4)\r\n      .map(line => (line > barThreshold ? 'w' : 'n'))\r\n      .join('')\r\n\r\n    const endChar = lines\r\n      .splice(lines.length - 3, 3)\r\n      .map(line => (line > barThreshold ? 'w' : 'n'))\r\n      .join('')\r\n\r\n    if (startChar !== 'nnnn' || endChar !== 'wnn') return null\r\n\r\n    // Read one encoded character at a time.\r\n    while (lines.length > 0) {\r\n      const seg = lines.splice(0, 10)\r\n\r\n      const a = seg\r\n        .filter((item, index) => index % 2 === 0)\r\n        .map(line => (line > barThreshold ? 'w' : 'n'))\r\n        .join('')\r\n\r\n      code.push(CHAR_SET.indexOf(a))\r\n\r\n      const b = seg\r\n        .filter((item, index) => index % 2 !== 0)\r\n        .map(line => (line > barThreshold ? 'w' : 'n'))\r\n        .join('')\r\n\r\n      code.push(CHAR_SET.indexOf(b))\r\n    }\r\n  } else if (type === 'standard') {\r\n    // extract start/ends pair\r\n\r\n    const startChar = lines\r\n      .splice(0, 6)\r\n      .filter((item, index) => index % 2 === 0)\r\n      .map(line => (line > barThreshold ? 'w' : 'n'))\r\n      .join('')\r\n\r\n    const endChar = lines\r\n      .splice(lines.length - 5, 5)\r\n      .filter((item, index) => index % 2 === 0)\r\n      .map(line => (line > barThreshold ? 'w' : 'n'))\r\n      .join('')\r\n\r\n    if (startChar !== 'wwn' || endChar !== 'wnw') return null\r\n\r\n    // Read one encoded character at a time.\r\n    while (lines.length > 0) {\r\n      const a = lines\r\n        .splice(0, 10)\r\n        .filter((item, index) => index % 2 === 0)\r\n        .map(line => (line > barThreshold ? 'w' : 'n'))\r\n        .join('')\r\n\r\n      code.push(CHAR_SET.indexOf(a))\r\n    }\r\n  }\r\n\r\n  return code.join('')\r\n}\r\n","const CHAR_SET = {\r\n  nnnwwnwnn: '0',\r\n  wnnwnnnnw: '1',\r\n  nnwwnnnnw: '2',\r\n  wnwwnnnnn: '3',\r\n  nnnwwnnnw: '4',\r\n  wnnwwnnnn: '5',\r\n  nnwwwnnnn: '6',\r\n  nnnwnnwnw: '7',\r\n  wnnwnnwnn: '8',\r\n  nnwwnnwnn: '9',\r\n  wnnnnwnnw: 'A',\r\n  nnwnnwnnw: 'B',\r\n  wnwnnwnnn: 'C',\r\n  nnnnwwnnw: 'D',\r\n  wnnnwwnnn: 'E',\r\n  nnwnwwnnn: 'F',\r\n  nnnnnwwnw: 'G',\r\n  wnnnnwwnn: 'H',\r\n  nnwnnwwnn: 'I',\r\n  nnnnwwwnn: 'J',\r\n  wnnnnnnww: 'K',\r\n  nnwnnnnww: 'L',\r\n  wnwnnnnwn: 'M',\r\n  nnnnwnnww: 'N',\r\n  wnnnwnnwn: 'O',\r\n  nnwnwnnwn: 'P',\r\n  nnnnnnwww: 'Q',\r\n  wnnnnnwwn: 'R',\r\n  nnwnnnwwn: 'S',\r\n  nnnnwnwwn: 'T',\r\n  wwnnnnnnw: 'U',\r\n  nwwnnnnnw: 'V',\r\n  wwwnnnnnn: 'W',\r\n  nwnnwnnnw: 'X',\r\n  wwnnwnnnn: 'Y',\r\n  nwwnwnnnn: 'Z',\r\n  nwnnnnwnw: '-',\r\n  wwnnnnwnn: '.',\r\n  nwwnnnwnn: ' ',\r\n  nwnwnwnnn: '$',\r\n  nwnwnnnwn: '/',\r\n  nwnnnwnwn: '+',\r\n  nnnwnwnwn: '%',\r\n  nwnnwnwnn: '*',\r\n}\r\n\r\nmodule.exports = lines => {\r\n  const code = []\r\n\r\n  const barThreshold = Math.ceil(\r\n    lines.reduce((pre, item) => pre + item, 0) / lines.length\r\n  )\r\n\r\n  // Read one encoded character at a time.\r\n  while (lines.length > 0) {\r\n    const sequenceBar = lines\r\n      .splice(0, 10)\r\n      .map(line => (line > barThreshold ? 'w' : 'n'))\r\n\r\n    code.push(CHAR_SET[sequenceBar.slice(0, 9).join('')])\r\n  }\r\n\r\n  if (code.pop() !== '*' || code.shift() !== '*') return null\r\n\r\n  return code.join('')\r\n}\r\n","const CHAR_SET = [\r\n  { '100010100': '0' },\r\n  { '101001000': '1' },\r\n  { '101000100': '2' },\r\n  { '101000010': '3' },\r\n  { '100101000': '4' },\r\n  { '100100100': '5' },\r\n  { '100100010': '6' },\r\n  { '101010000': '7' },\r\n  { '100010010': '8' },\r\n  { '100001010': '9' },\r\n  { '110101000': 'A' },\r\n  { '110100100': 'B' },\r\n  { '110100010': 'C' },\r\n  { '110010100': 'D' },\r\n  { '110010010': 'E' },\r\n  { '110001010': 'F' },\r\n  { '101101000': 'G' },\r\n  { '101100100': 'H' },\r\n  { '101100010': 'I' },\r\n  { '100110100': 'J' },\r\n  { '100011010': 'K' },\r\n  { '101011000': 'L' },\r\n  { '101001100': 'M' },\r\n  { '101000110': 'N' },\r\n  { '100101100': 'O' },\r\n  { '100010110': 'P' },\r\n  { '110110100': 'Q' },\r\n  { '110110010': 'R' },\r\n  { '110101100': 'S' },\r\n  { '110100110': 'T' },\r\n  { '110010110': 'U' },\r\n  { '110011010': 'V' },\r\n  { '101101100': 'W' },\r\n  { '101100110': 'X' },\r\n  { '100110110': 'Y' },\r\n  { '100111010': 'Z' },\r\n  { '100101110': '-' },\r\n  { '111010100': '.' },\r\n  { '111010010': ' ' },\r\n  { '111001010': '$' },\r\n  { '101101110': '/' },\r\n  { '101110110': '+' },\r\n  { '110101110': '%' },\r\n  { '100100110': '($)' },\r\n  { '111011010': '(%)' },\r\n  { '111010110': '(/)' },\r\n  { '100110010': '(+)' },\r\n  { '101011110': '*' },\r\n]\r\n\r\nmodule.exports = lines => {\r\n  const code = []\r\n  const binary = []\r\n\r\n  // remove termination bar\r\n  lines.pop()\r\n\r\n  const barThreshold = Math.ceil(\r\n    lines.reduce((pre, item) => pre + item, 0) / lines.length\r\n  )\r\n\r\n  const minBarWidth = Math.ceil(\r\n    lines.reduce((pre, item) => {\r\n      if (item < barThreshold) return (pre + item) / 2\r\n      return pre\r\n    }, 0)\r\n  )\r\n\r\n  // leave the padded *\r\n  for (let i = 0; i < lines.length; i += 1) {\r\n    let segment = lines[i]\r\n\r\n    while (segment > 0) {\r\n      if (i % 2 === 0) {\r\n        binary.push(1)\r\n      } else {\r\n        binary.push(0)\r\n      }\r\n      segment -= minBarWidth\r\n    }\r\n  }\r\n\r\n  for (let i = 0; i < binary.length; i += 9) {\r\n    const searcKey = binary.slice(i, i + 9).join('')\r\n\r\n    const char = CHAR_SET.filter(item => Object.keys(item)[0] === searcKey)\r\n\r\n    code.push(char[0][searcKey])\r\n  }\r\n\r\n  if (code.shift() !== '*' || code.pop() !== '*') return null\r\n\r\n  const K = code.pop()\r\n  let sum = 0\r\n  let letter; let Value\r\n  const findValue = item => Object.values(item)[0] === letter\r\n\r\n  for (let i = code.length - 1; i >= 0; i -= 1) {\r\n    letter = code[i]\r\n    Value = CHAR_SET.indexOf(CHAR_SET.filter(findValue)[0])\r\n    sum += Value * (1 + ((code.length - (i + 1)) % 20))\r\n  }\r\n\r\n  if (Object.values(CHAR_SET[sum % 47])[0] !== K) return null\r\n\r\n  const C = code.pop()\r\n  sum = 0\r\n\r\n  for (let i = code.length - 1; i >= 0; i -= 1) {\r\n    letter = code[i]\r\n    Value = CHAR_SET.indexOf(CHAR_SET.filter(findValue)[0])\r\n    sum += Value * (1 + ((code.length - (i + 1)) % 20))\r\n  }\r\n\r\n  if (Object.values(CHAR_SET[sum % 47])[0] !== C) return null\r\n\r\n  return code.join('')\r\n}\r\n","const UPC_SET = {\r\n  '3211': '0',\r\n  '2221': '1',\r\n  '2122': '2',\r\n  '1411': '3',\r\n  '1132': '4',\r\n  '1231': '5',\r\n  '1114': '6',\r\n  '1312': '7',\r\n  '1213': '8',\r\n  '3112': '9',\r\n}\r\n\r\nmodule.exports = lines => {\r\n  let code = ''\r\n  // manually add start dummy line\r\n  lines.unshift(0)\r\n  // start indicator/reference lines\r\n  const bar = ~~((lines[1] + lines[2] + lines[3]) / 3) //eslint-disable-line\r\n\r\n  for (let i = 1; i < lines.length; i += 1) {\r\n    let group\r\n\r\n    if (code.length < 6) {\r\n      group = lines.slice(i * 4, i * 4 + 4)\r\n    } else {\r\n      group = lines.slice(i * 4 + 5, i * 4 + 9)\r\n    }\r\n\r\n    const digits = [\r\n      Math.round(group[0] / bar),\r\n      Math.round(group[1] / bar),\r\n      Math.round(group[2] / bar),\r\n      Math.round(group[3] / bar),\r\n    ]\r\n\r\n    const result =\r\n      UPC_SET[digits.join('')] || UPC_SET[digits.reverse().join('')]\r\n\r\n    if (result) {\r\n      code += result\r\n    }\r\n\r\n    // if (code.length === 12) break\r\n  }\r\n\r\n  return code\r\n}\r\n","const UPC_SET = {\r\n  '3211': '0',\r\n  '2221': '1',\r\n  '2122': '2',\r\n  '1411': '3',\r\n  '1132': '4',\r\n  '1231': '5',\r\n  '1114': '6',\r\n  '1312': '7',\r\n  '1213': '8',\r\n  '3112': '9',\r\n}\r\n\r\nmodule.exports = lines => {\r\n  let code = ''\r\n  // manually add start dummy line\r\n  lines.unshift(0)\r\n  // start indicator/reference lines\r\n  const bar = ~~((lines[1] + lines[2] + lines[3]) / 3) //eslint-disable-line\r\n\r\n  for (let i = 1; i < lines.length; i += 1) {\r\n    let group\r\n\r\n    if (code.length < 4) {\r\n      group = lines.slice(i * 4, i * 4 + 4)\r\n    } else {\r\n      group = lines.slice(i * 4 + 5, i * 4 + 9)\r\n    }\r\n\r\n    const digits = [\r\n      Math.round(group[0] / bar),\r\n      Math.round(group[1] / bar),\r\n      Math.round(group[2] / bar),\r\n      Math.round(group[3] / bar),\r\n    ]\r\n\r\n    const result =\r\n      UPC_SET[digits.join('')] || UPC_SET[digits.reverse().join('')]\r\n\r\n    if (result) {\r\n      code += result\r\n    }\r\n\r\n    // if (code.length === 8) break\r\n  }\r\n\r\n  return code\r\n}\r\n","const CHAR_SET = {\r\n  nnnnnww: '0',\r\n  nnnnwwn: '1',\r\n  nnnwnnw: '2',\r\n  wwnnnnn: '3',\r\n  nnwnnwn: '4',\r\n  wnnnnwn: '5',\r\n  nwnnnnw: '6',\r\n  nwnnwnn: '7',\r\n  nwwnnnn: '8',\r\n  wnnwnnn: '9',\r\n  nnnwwnn: '-',\r\n  nnwwnnn: '$',\r\n  wnnnwnw: ':',\r\n  wnwnnnw: '/',\r\n  wnwnwnn: '.',\r\n  nnwwwww: '+',\r\n  nnwwnwn: 'A',\r\n  nnnwnww: 'B',\r\n  nwnwnnw: 'C',\r\n  nnnwwwn: 'D',\r\n}\r\n\r\nmodule.exports = lines => {\r\n  const code = []\r\n\r\n  const barThreshold = Math.ceil(\r\n    lines.reduce((pre, item) => (pre + item) / 2, 0)\r\n  )\r\n\r\n  // Read one encoded character at a time.\r\n  while (lines.length > 0) {\r\n    const seg = lines.splice(0, 8).splice(0, 7)\r\n\r\n    const a = seg.map(line => (line < barThreshold ? 'n' : 'w')).join('')\r\n\r\n    code.push(CHAR_SET[a])\r\n  }\r\n\r\n  return code.join('')\r\n}\r\n","const UTILITIES = require('./utiltities')\r\n\r\n/* eslint-disable */\r\nconst BARCODE_DECODERS = {\r\n  'code-128': require('./code-128'),\r\n  'code-2of5': require('./2of5'),\r\n  'code-39': require('./code-39'),\r\n  'code-93': require('./code-93'),\r\n  'ean-13': require('./ean-13'),\r\n  'ean-8': require('./ean-8'),\r\n  codabar: require('./codabar'),\r\n}\r\n/* eslint-enable */\r\n\r\nfunction combineAllPossible(results) {\r\n  const finalResult = []\r\n  let maxLength = 0\r\n\r\n  results\r\n    .sort((a, b) => {\r\n      return b.length - a.length\r\n    })\r\n    .forEach(result => {\r\n      const length = result.length\r\n\r\n      // continue if new result is larger in size, most probable\r\n      if (maxLength === 0 || length === maxLength) {\r\n        maxLength = length\r\n\r\n        // update finalResult if char is feasible\r\n        result.split('').forEach((char, index) => {\r\n          if (!finalResult[index]) {\r\n            finalResult[index] = char === '?' ? '?' : char\r\n          }\r\n        })\r\n      }\r\n    })\r\n\r\n  return finalResult.join('')\r\n}\r\n\r\n/**\r\n * Scans and returns barcode from the provided image\r\n *\r\n * @param {HTMLImageElement | HTMLCanvasElement | String | Object} image Image element || Canvas || ImageData || Image Path in Node.js\r\n * @param {Object} options Options defining type of barcode to detect\r\n * @param {String} options.barcode Barcode name\r\n * @param {String=} options.type Type of Barcode\r\n * @param {Boolean=} options.fast Perform only single attemp to extract code\r\n * @param {Boolean=} options.useAdaptiveThreshold Use adaptive threshold (default: OTSU Threshold method)\r\n * @returns {Promise<String>} Extracted barcode string\r\n */\r\nasync function javascriptBarcodeReader(image, options) {\r\n  // store intermediary results, get final result by replacing ? from available result\r\n  const results = []\r\n\r\n  // eslint-disable-next-line\r\n  options.barcode = options.barcode.toLowerCase()\r\n  const list = Object.keys(BARCODE_DECODERS)\r\n\r\n  if (list.indexOf(options.barcode) === -1) {\r\n    throw new Error(\r\n      `Invalid barcode specified. Available decoders: ${list}. https://github.com/mubaidr/Javascript-Barcode-Reader#available-decoders`\r\n    )\r\n  }\r\n\r\n  const { data, width, height } = await UTILITIES.getImageDataFromSource(image)\r\n  const channels = data.length / (width * height)\r\n\r\n  // check points for barcode location\r\n  const sPoints = [5, 6, 4, 7, 3, 8, 2, 9, 1]\r\n  const slineStep = Math.floor(height / sPoints.length)\r\n  //should be odd number to be able to find center\r\n  const rowsToScan = Math.min(3, height)\r\n\r\n  for (let i = 0; i < sPoints.length; i += 1) {\r\n    const sPoint = sPoints[i]\r\n    // create section of height 3\r\n    const start = channels * width * Math.floor(slineStep * sPoint)\r\n    const end = start + rowsToScan * channels * width\r\n    const processedData = UTILITIES.preProcessImageData(\r\n      {\r\n        data: data.slice(start, end),\r\n        width,\r\n        height: rowsToScan,\r\n        channels,\r\n      },\r\n      options\r\n    )\r\n    const lines = UTILITIES.getLines(processedData)\r\n\r\n    if (!lines || lines.length === 0) {\r\n      if (options.fast) throw new Error('Failed to extract barcode!')\r\n\r\n      continue\r\n    }\r\n\r\n    // Run the decoder\r\n    const result = BARCODE_DECODERS[options.barcode](lines, options.type)\r\n\r\n    if (result) {\r\n      if (result.indexOf('?') === -1) {\r\n        return result\r\n      }\r\n\r\n      results.push(result)\r\n    }\r\n\r\n    if (options.fast) break\r\n  }\r\n\r\n  if (results.length === 0) {\r\n    throw new Error('Failed to extract barcode!')\r\n  } else {\r\n    return combineAllPossible(results)\r\n  }\r\n}\r\n\r\nmodule.exports = javascriptBarcodeReader\r\n"],"names":["runtime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","undefined","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","obj","arg","type","call","err","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","invoke","resolve","reject","record","result","value","Promise","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","key","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","require$$0","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","_typeof2","_typeof","isNode","process","release","isUrl","s","regexp","test","createImageData","image","canvas","document","createElement","ctx","getContext","width","naturalWidth","height","naturalHeight","drawImage","getImageData","getImageDataFromSource","source","isStringSource","isURLSource","tagName","Jimp","read","url","headers","bitmap","data","toJSON","img","Image","onerror","onload","src","imgElem","getElementById","preProcessImageData","imgData","options","channels","useAdaptiveThreshold","integralImage","j","Array","fill","sum","index","v","console","log","iLeft","iRight","jTop","jBottom","count","r","g","b","getLines","padding","left","right","bmp","lines","col","matches","row","curr","shift","WIDTH_TBL","TBL_A","TBL_B","TBL_C","computeGroup","factor","reduce","pre","item","map","Math","round","join","lookupTBL","letterKey","letterCode","letterCodePrev","keyIndex","code","seq","splice","indexOf","charCodeAt","CHAR_SET","barThreshold","ceil","startChar","line","endChar","seg","a","filter","nnnwwnwnn","wnnwnnnnw","nnwwnnnnw","wnwwnnnnn","nnnwwnnnw","wnnwwnnnn","nnwwwnnnn","nnnwnnwnw","wnnwnnwnn","nnwwnnwnn","wnnnnwnnw","nnwnnwnnw","wnwnnwnnn","nnnnwwnnw","wnnnwwnnn","nnwnwwnnn","nnnnnwwnw","wnnnnwwnn","nnwnnwwnn","nnnnwwwnn","wnnnnnnww","nnwnnnnww","wnwnnnnwn","nnnnwnnww","wnnnwnnwn","nnwnwnnwn","nnnnnnwww","wnnnnnwwn","nnwnnnwwn","nnnnwnwwn","wwnnnnnnw","nwwnnnnnw","wwwnnnnnn","nwnnwnnnw","wwnnwnnnn","nwwnwnnnn","nwnnnnwnw","wwnnnnwnn","nwwnnnwnn","nwnwnwnnn","nwnwnnnwn","nwnnnwnwn","nnnwnwnwn","nwnnwnwnn","sequenceBar","binary","minBarWidth","segment","searcKey","char","K","letter","Value","findValue","C","UPC_SET","unshift","bar","group","digits","nnnnnww","nnnnwwn","nnnwnnw","wwnnnnn","nnwnnwn","wnnnnwn","nwnnnnw","nwnnwnn","nwwnnnn","wnnwnnn","nnnwwnn","nnwwnnn","wnnnwnw","wnwnnnw","wnwnwnn","nnwwwww","nnwwnwn","nnnwnww","nwnwnnw","nnnwwwn","BARCODE_DECODERS","require$$1","require$$2","require$$3","require$$4","require$$5","codabar","require$$6","combineAllPossible","results","finalResult","maxLength","sort","split","javascriptBarcodeReader","barcode","toLowerCase","list","UTILITIES","sPoints","slineStep","floor","rowsToScan","min","sPoint","start","end","processedData","fast"],"mappings":"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"}